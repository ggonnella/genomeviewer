<h1>Configuration</h1>

<% form_tag({:action=>"do_config_colors"}) do %>

  <h2>Colors</h2>

  <table>
  <% @colors.each_pair do |element, color| %>
    <tr>
      <td><%= element %></td>
      <% [:red, :green, :blue].each do |rgb| %>
        <td> <%=rgb.to_s%> <%= text_field_tag "colors[#{element}][#{rgb}]", color[rgb], :size => 3 %></td>
      <% end %>
      <td><%= link_to "Reset", :action => :reset_color, :element => element%></td>
    </tr>
  <% end %> 
  </table>
  
  <br/><%= submit_tag %>
  
<% end %>

<% unless @not_configured.empty? %>
  <% form_tag({:action=>:add_feature_class, :to => :config_colors_list}) do %>

    <p>Other feature classes:<br/>
    <%= collection_select :feature_class, :name, @not_configured, :id, :name %></p>

    <%= submit_tag "Configure colors" %>
    
  <% end %>
<% end %>

<%= button_to "Create new feature class", :action => :create_feature_class %>